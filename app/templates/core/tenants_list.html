{% extends "base.html" %}
{% block title %}入居者{% endblock %}
{% block content %}
  <h1 class="title">入居者一覧</h1>
  {% include "core/tenant_form.html" %}
  <table class="table is-fullwidth is-striped">
    <thead>
      <tr>
        <th>氏名</th>
        <th>メールアドレス</th>
        <th>電話番号</th>
        <th>操作</th>
      </tr>
    </thead>
    <tbody>
      {% for tenant in tenants %}
        <tr>
          <td>{{ tenant.name }}</td>
          <td>{{ tenant.email }}</td>
          <td>{{ tenant.phone or "-" }}</td>
          <td>
            <form method="post" action="{{ url_for('core.delete_tenant', tenant_id=tenant.id) }}">
              {{ delete_forms[tenant.id].hidden_tag() }}
              {{ delete_forms[tenant.id].id(value=tenant.id) }}
              {{ delete_forms[tenant.id].submit(class="button is-danger is-light is-small") }}
            </form>
          </td>
        </tr>
      {% else %}
        <tr>
          <td colspan="4">入居者がまだ登録されていません。</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
